<!DOCTYPE html>
<html>
<head>
  <title>4-Digit Clock Display</title>
  <link rel="stylesheet" href="../styles.css">
  <style>
    #digit-grid {
      display: grid;
      grid-template-columns: repeat(15, 60px);
      grid-template-rows: repeat(8, 60px);
      gap: 5px;
    }
    .controls {
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div class="controls">
    <h1 id="display-title">4-Digit Display</h1>
    <input type="text" id="time-input" placeholder="Enter 4 digits (e.g. 1234)" value="5678">
    <button id="update-btn">Update</button>
  </div>
  
  <div id="digit-grid"></div>

  <script type="module">
    import { ClockGrid } from '../clock.js';
    import digitPatterns from '../digits.json' assert { type: 'json' };
    import { TimeDisplay } from '../time-display.js';
    
    // Initialize with default digits
    const timeDisplay = new TimeDisplay(digitPatterns, '5678');
    const digitGrid = new ClockGrid(
      document.getElementById('digit-grid'), 
      timeDisplay.createGrid()
    );
    
    // Setup event listeners
    document.getElementById('update-btn').addEventListener('click', () => {
      const input = document.getElementById('time-input').value;
      if (input.length === 4) {
        digitGrid.update(timeDisplay.updateWithDigits(input));
        document.getElementById('display-title').textContent = `4-Digit Display: ${input}`;
      }
    });
  </script>
</body>
</html>
