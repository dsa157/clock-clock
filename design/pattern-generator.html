<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Clock Grid Generator</title>
</head>
<body>
<script>
const GRID_WIDTH = 15;
const GRID_HEIGHT = 8;
const CENTER_X = (GRID_WIDTH - 1) / 2;
const CENTER_Y = (GRID_HEIGHT - 1) / 2;

function generateClockGrid(formType) {
  const grid = [];

  for (let y = 0; y < GRID_HEIGHT; y++) {
    const row = [];
    for (let x = 0; x < GRID_WIDTH; x++) {
      let hourAngle = 0;
      let minuteAngle = 0;
      let speedFactor = 1.0;

      const dx = x - CENTER_X;
      const dy = y - CENTER_Y;
      const angleToCenter = (Math.atan2(dy, dx) * 180) / Math.PI;

      switch (formType) {
        case "Swirl In":
          // Spiral inward: radial angle + radius-based twist
          const radius = Math.sqrt(dx * dx + dy * dy);
          hourAngle = (angleToCenter + radius * 20) % 360;
          minuteAngle = (angleToCenter + radius * 20 + 90) % 360;
          speedFactor = 1 + radius * 0.05;
          break;

        case "Spokes":
          // Hands point away from center
          hourAngle = (angleToCenter + 360) % 360;
          minuteAngle = hourAngle;
          speedFactor = 1.0;
          break;

        case "Wave Sweep":
          // Horizontal sine wave based on x and y
          const phase = (x + y / 2) * 20;
          hourAngle = (Math.sin(phase * Math.PI / 180) * 45 + 180) % 360;
          minuteAngle = hourAngle;
          speedFactor = 1.0 + Math.sin((x / GRID_WIDTH) * Math.PI);
          break;

        case "Arrowhead":
          // Hands point toward center
          hourAngle = (angleToCenter + 180 + 360) % 360;
          minuteAngle = hourAngle;
          speedFactor = 1.0;
          break;

        default:
          // Default: upright
          hourAngle = 0;
          minuteAngle = 0;
          speedFactor = 1.0;
      }

      row.push({
        hourAngle: Math.round(hourAngle),
        minuteAngle: Math.round(minuteAngle),
        speedFactor: parseFloat(speedFactor.toFixed(2))
      });
    }
    grid.push(row);
  }

  return grid;
}

// Example usage
const swirlForm = {
  name: "Swirl In",
  description: "Hands form a spiral pattern converging inward clockwise toward the center.",
  clockTargets: generateClockGrid("Swirl In")
};

console.log(JSON.stringify(swirlForm, null, 2));
</script>
</body>
</html>

